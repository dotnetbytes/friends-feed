@page "/rss"

@using FriendsOf.Web.Services
@using System.ServiceModel.Syndication;

@inject RssService rssService
@inject Microsoft.Extensions.Configuration.IConfiguration config


@code {
	private int pageNum = 1;
	private IEnumerable<SyndicationItem>? feedItems;

	protected override async Task OnInitializedAsync()
	{
		await rssService.DownloadFeeds();
		feedItems = rssService.GetData(pageNum);
	}

	public void NextPage()
	{
		pageNum++;
		feedItems = rssService.GetData(pageNum);
	}

	public void PreviousPage()
	{
		pageNum--;
		feedItems = rssService.GetData(pageNum);
	}
}